<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOAP & MinIO API Tester & Socket</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/7.0.1/css/all.min.css" integrity="sha512-2SwdPD6INVrV/lHTZbO2nodKhrnDdJK9/kg2XD1r9uGqPo1cUbujc+IYdlYdEErWNu69gVcYgdxlmVmzTWnetw==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container">
            <a class="navbar-brand" href="#">
                <i class="fas fa-code"></i> SOAP & MinIO API Tester
            </a>
        </div>
    </nav>

    <div class="container mt-4">
        <div class="row">
            <!-- Service Status -->
            <div class="col-12 mb-4">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-heartbeat"></i> Service Status</h5>
                    </div>
                    <div class="card-body">
                        <div class="row">
                            <div class="col-md-4">
                                <button class="btn btn-outline-primary" onclick="testSoapConnection()">
                                    <i class="fas fa-plug"></i> Test SOAP API
                                </button>
                                <span id="soapStatus" class="ms-2"></span>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-outline-primary" onclick="testMinioConnection()">
                                    <i class="fas fa-database"></i> Test MinIO
                                </button>
                                <span id="minioStatus" class="ms-2"></span>
                            </div>
                            <div class="col-md-4">
                                <button class="btn btn-outline-primary" onclick="testSocketConnection()">
                                    <i class="fas fa-network-wired"></i> Test Socket
                                </button>
                                <span id="socketStatus" class="ms-2"></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <div class="row">
            <!-- SOAP API Section -->
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-header">
                        <h5><i class="fas fa-soap"></i> SOAP API - Todo CRUD</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <h6>Create Todo</h6>
                            <div class="input-group mb-2">
                                <input type="text" id="todoTitle" class="form-control" placeholder="Todo Title">
                            </div>
                            <div class="input-group mb-2">
                                <textarea id="todoDescription" class="form-control" placeholder="Todo Description" rows="2"></textarea>
                            </div>
                            <button class="btn btn-success btn-sm" onclick="createTodo()">
                                <i class="fas fa-plus"></i> Create Todo
                            </button>
                        </div>

                        <div class="mb-3">
                            <h6>Read Operations</h6>
                            <div class="btn-group mb-2" role="group">
                                <button class="btn btn-info btn-sm" onclick="getAllTodos()">
                                    <i class="fas fa-list"></i> Get All Todos
                                </button>
                                <button class="btn btn-info btn-sm" onclick="getTodoById()">
                                    <i class="fas fa-search"></i> Get by ID
                                </button>
                            </div>
                            <div class="input-group mb-2">
                                <input type="number" id="todoIdSearch" class="form-control" placeholder="Todo ID to search">
                            </div>
                        </div>

                        <div class="mb-3">
                            <h6>Update Todo</h6>
                            <div class="input-group mb-2">
                                <input type="number" id="updateTodoId" class="form-control" placeholder="Todo ID">
                            </div>
                            <div class="input-group mb-2">
                                <input type="text" id="updateTodoTitle" class="form-control" placeholder="New Title">
                            </div>
                            <div class="input-group mb-2">
                                <textarea id="updateTodoDescription" class="form-control" placeholder="New Description" rows="2"></textarea>
                            </div>
                            <div class="form-check mb-2">
                                <input class="form-check-input" type="checkbox" id="updateTodoCompleted">
                                <label class="form-check-label" for="updateTodoCompleted">
                                    Completed
                                </label>
                            </div>
                            <button class="btn btn-warning btn-sm" onclick="updateTodo()">
                                <i class="fas fa-edit"></i> Update Todo
                            </button>
                        </div>

                        <div class="mb-3">
                            <h6>Delete Todo</h6>
                            <div class="input-group mb-2">
                                <input type="number" id="deleteTodoId" class="form-control" placeholder="Todo ID to delete">
                                <button class="btn btn-danger" onclick="deleteTodo()">
                                    <i class="fas fa-trash"></i> Delete
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>

            <!-- MinIO Section -->
            <div class="col-lg-6">
                <div class="card h-100">
                    <div class="card-header">
                        <h5><i class="fas fa-database"></i> MinIO Storage - CRUD</h5>
                    </div>
                    <div class="card-body">
                        <div class="mb-3">
                            <h6>Bucket Operations</h6>
                            <div class="input-group mb-2">
                                <input type="text" id="bucketName" class="form-control" placeholder="my-bucket-name">
                                <button class="btn btn-success" onclick="createBucket()">
                                    <i class="fas fa-plus"></i> Create
                                </button>
                            </div>
                            <small class="text-muted mb-2 d-block">
                                <i class="fas fa-info-circle"></i> Bucket names: 3-63 chars, lowercase, letters/numbers/dots/hyphens only
                            </small>
                            <div class="btn-group mb-2" role="group">
                                <button class="btn btn-info btn-sm" onclick="listBuckets()">
                                    <i class="fas fa-list"></i> List Buckets
                                </button>
                                <button class="btn btn-danger btn-sm" onclick="deleteBucket()">
                                    <i class="fas fa-trash"></i> Delete Bucket
                                </button>
                            </div>
                        </div>

                        <div class="mb-3">
                            <h6>Object Operations</h6>
                            <div class="input-group mb-2">
                                <select id="selectedBucket" class="form-select">
                                    <option value="">Select Bucket</option>
                                </select>
                                <button class="btn btn-info btn-sm" onclick="listObjects()">
                                    <i class="fas fa-list"></i> List Objects
                                </button>
                            </div>
                        </div>

                        <div class="mb-3">
                            <h6>Upload File</h6>
                            <div class="input-group mb-2">
                                <input type="file" id="fileUpload" class="form-control">
                                <button class="btn btn-success" onclick="uploadFile()">
                                    <i class="fas fa-upload"></i> Upload
                                </button>
                            </div>
                        </div>

                        <div class="mb-3">
                            <h6>Upload Text Content</h6>
                            <div class="input-group mb-2">
                                <input type="text" id="textObjectName" class="form-control" placeholder="Object Name">
                            </div>
                            <div class="input-group mb-2">
                                <textarea id="textContent" class="form-control" placeholder="Text Content" rows="3"></textarea>
                            </div>
                            <button class="btn btn-success btn-sm" onclick="uploadText()">
                                <i class="fas fa-upload"></i> Upload Text
                            </button>
                        </div>

                        <div class="mb-3">
                            <h6>Download/View Object</h6>
                            <div class="input-group mb-2">
                                <input type="text" id="objectName" class="form-control" placeholder="Object Name">
                                <button class="btn btn-primary" onclick="downloadObject()">
                                    <i class="fas fa-download"></i> Download
                                </button>
                                <button class="btn btn-info" onclick="viewTextObject()">
                                    <i class="fas fa-eye"></i> View Text
                                </button>
                            </div>
                        </div>

                        <div class="mb-3">
                            <h6>Delete Object</h6>
                            <div class="input-group mb-2">
                                <input type="text" id="deleteObjectName" class="form-control" placeholder="Object Name">
                                <button class="btn btn-danger" onclick="deleteObject()">
                                    <i class="fas fa-trash"></i> Delete Object
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Socket Communication Section -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header">
                        <h5><i class="fas fa-network-wired"></i> Socket Communication Demo</h5>
                        <small class="text-white">Real-time TCP socket communication for distributed systems</small>
                    </div>
                    <div class="card-body">
                        <div class="row mb-3">
                            <div class="col-md-6">
                                <button class="btn btn-outline-success" onclick="testSocketConnection()">
                                    <i class="fas fa-plug"></i> Test Socket Server
                                </button>
                                <span id="socketStatus" class="ms-2"></span>
                            </div>
                            <div class="col-md-6">
                                <button class="btn btn-info" onclick="getMessageHistory()">
                                    <i class="fas fa-history"></i> Get Message History
                                </button>
                                <button class="btn btn-outline-warning ms-2" onclick="clearMessageHistory()">
                                    <i class="fas fa-trash"></i> Clear History
                                </button>
                            </div>
                        </div>

                        <div class="row">
                            <!-- Send Message -->
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header">
                                        <h6><i class="fas fa-paper-plane"></i> Send Message</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label for="socketMessage" class="form-label">Message:</label>
                                            <input type="text" class="form-control" id="socketMessage" 
                                                   placeholder="Enter your message..." value="Hello World!">
                                        </div>
                                        <button class="btn btn-primary" onclick="sendSocketMessage()">
                                            <i class="fas fa-paper-plane"></i> Send Message
                                        </button>
                                    </div>
                                </div>
                            </div>

                            <!-- Echo Test -->
                            <div class="col-md-6">
                                <div class="card mb-3">
                                    <div class="card-header">
                                        <h6><i class="fas fa-echo"></i> Echo Test</h6>
                                    </div>
                                    <div class="card-body">
                                        <div class="mb-3">
                                            <label for="echoText" class="form-label">Text to Echo:</label>
                                            <input type="text" class="form-control" id="echoText" 
                                                   placeholder="Text to echo back..." value="Hello World Echo!">
                                        </div>
                                        <button class="btn btn-success" onclick="testEcho()">
                                            <i class="fas fa-volume-up"></i> Test Echo
                                        </button>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <!-- Socket Message History -->
                        <div class="card">
                            <div class="card-header">
                                <h6><i class="fas fa-comments"></i> Message History</h6>
                            </div>
                            <div class="card-body">
                                <div id="socketHistory" class="bg-light p-3 rounded" style="max-height: 300px; overflow-y: auto;">
                                    <p class="text-muted mb-0">No messages yet. Send a message to see the history.</p>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Results Section -->
        <div class="row mt-4">
            <div class="col-12">
                <div class="card">
                    <div class="card-header d-flex justify-content-between align-items-center">
                        <h5><i class="fas fa-terminal"></i> Results</h5>
                        <button class="btn btn-sm btn-danger" onclick="clearResults()">
                            <i class="fas fa-broom"></i> Clear
                        </button>
                    </div>
                    <div class="card-body">
                        <pre id="results" class="bg-light p-3 rounded" style="max-height: 400px; overflow-y: auto;"></pre>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="script.js"></script>
</body>
</html>